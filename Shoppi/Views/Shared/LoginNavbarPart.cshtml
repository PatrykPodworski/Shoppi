@using Microsoft.AspNet.Identity

<ul class="nav navbar-nav navbar-right">
    <li>
        @using (Html.BeginForm("Search", "Search", FormMethod.Get, new { @class = "navbar-form" }))
        {
            <div class="form-group">
                <input type="text" class="form-control input-sm">
            </div>
            <button type="submit" class="btn btn-default btn-sm">Search</button>
        }
    </li>
    }

    @if (Request.IsAuthenticated)
    {
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                @User.Identity.GetUserName() <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
                <li>@Html.ActionLink("My account", "MyAccount", "Account")</li>
                <li>
                    @using (Html.BeginForm("SignOut", "Account", FormMethod.Post, new { id = "signOut" }))
                    {
                        <a href="javascript:$('#signOut').submit()">Sign Out</a>
                    }
                </li>
            </ul>
        </li>
    }
    else
    {
        <li>@Html.ActionLink("Register", "Register", "Account")</li>
        <li>@Html.ActionLink("Sign in", "SignIn", "Account")</li>
    }
    <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            My cart <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
            <li>@Html.ActionLink("Cart", "Index", "Cart")</li>
        </ul>
    </li>
</ul>